<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <title>Amplifier Architecture</title>
    <style>
        :root {
            --accent: #5E5CE6;
            --accent-light: #8E8AE6;
            --accent-glow: rgba(94, 92, 230, 0.3);

            --surface-1: rgba(255,255,255,0.06);
            --surface-2: rgba(255,255,255,0.10);
            --surface-3: rgba(255,255,255,0.15);
            --border-subtle: rgba(255,255,255,0.12);
            --border-visible: rgba(255,255,255,0.20);

            --text-primary: #ffffff;
            --text-secondary: rgba(255,255,255,0.7);
            --text-tertiary: rgba(255,255,255,0.5);

            --font-headline: clamp(36px, 8vw, 72px);
            --font-medium-headline: clamp(24px, 5vw, 48px);
            --font-subhead: clamp(16px, 3vw, 28px);
            --font-body: clamp(14px, 2vw, 18px);
            --font-small: clamp(12px, 1.5vw, 14px);
            --font-code: clamp(12px, 1.8vw, 15px);

            --padding-slide: clamp(20px, 5vw, 80px);
            --gap-grid: clamp(12px, 2vw, 24px);
            --gap-lg: clamp(16px, 3vw, 40px);

            --color-provider: #0A84FF;
            --color-tool: #30D158;
            --color-orchestrator: #FF9F0A;
            --color-context: #BF5AF2;
            --color-hook: #FF6B6B;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Display', 'Segoe UI', Roboto, sans-serif;
            background: #000;
            color: var(--text-primary);
            overflow: hidden;
            overscroll-behavior: none;
        }

        /* --- Slide system --- */
        .slide {
            display: none;
            width: 100vw;
            min-height: 100vh;
            min-height: 100dvh;
            padding: clamp(60px, 10vw, 120px) var(--padding-slide) clamp(80px, 12vw, 100px);
            flex-direction: column;
            overflow-y: auto;
            overflow-x: hidden;
        }
        .slide.active { display: flex; }
        .center { text-align: center; align-items: center; justify-content: center; }

        @media (max-height: 500px) and (orientation: landscape) {
            .slide { padding: 16px var(--padding-slide) 60px; }
            .slide.center { justify-content: flex-start; }
        }
        @media (prefers-reduced-motion: reduce) {
            .slide, .slide * { animation: none !important; transition: none !important; }
        }

        /* --- Typography --- */
        .section-label {
            font-size: var(--font-small);
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 2px;
            color: var(--accent);
            margin-bottom: clamp(12px, 2vw, 20px);
        }
        .headline {
            font-size: var(--font-headline);
            font-weight: 700;
            letter-spacing: -0.03em;
            line-height: 1.1;
            margin-bottom: clamp(16px, 3vw, 32px);
        }
        .medium-headline {
            font-size: var(--font-medium-headline);
            font-weight: 600;
            letter-spacing: -0.02em;
            line-height: 1.2;
            margin-bottom: clamp(12px, 2vw, 24px);
        }
        .subhead {
            font-size: var(--font-subhead);
            color: var(--text-secondary);
            line-height: 1.4;
            max-width: 700px;
        }
        .body-text {
            font-size: var(--font-body);
            color: var(--text-secondary);
            line-height: 1.6;
        }
        .small-text {
            font-size: var(--font-small);
            color: var(--text-tertiary);
        }
        .tagline {
            font-size: clamp(16px, 3vw, 24px);
            color: var(--text-secondary);
            font-style: italic;
            line-height: 1.4;
            margin-top: clamp(12px, 2vw, 20px);
        }
        .accent-text { color: var(--accent); }
        .gold-text { color: #FFD60A; }
        .inline-code {
            font-family: 'SF Mono', 'Fira Code', monospace;
            font-size: inherit;
            background: var(--surface-1);
            padding: 2px 6px;
            border-radius: 4px;
        }

        /* --- Grids --- */
        .thirds {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(min(260px, 100%), 1fr));
            gap: var(--gap-grid);
        }
        .halves {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(min(300px, 100%), 1fr));
            gap: var(--gap-lg);
        }
        .fifths {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(min(155px, 100%), 1fr));
            gap: var(--gap-grid);
        }
        .fours {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(min(220px, 100%), 1fr));
            gap: var(--gap-grid);
        }

        /* --- Cards --- */
        .card {
            background: var(--surface-1);
            border: 1px solid var(--border-subtle);
            border-radius: clamp(12px, 2vw, 16px);
            padding: clamp(16px, 3vw, 28px);
        }
        .card h3, .card h4 { color: var(--text-primary); margin-bottom: 8px; }
        .card p, .card li { color: var(--text-secondary); }
        .card-icon { font-size: clamp(28px, 5vw, 42px); margin-bottom: clamp(8px, 1.5vw, 12px); }
        .card-title { font-size: clamp(16px, 2.5vw, 20px); font-weight: 600; margin-bottom: 6px; }
        .card-desc { font-size: var(--font-body); color: var(--text-secondary); line-height: 1.5; }
        .card-count { font-size: var(--font-small); color: var(--accent); font-weight: 600; margin-top: 8px; }

        /* --- Utility --- */
        .mb-gap { margin-bottom: var(--gap-grid); }
        .mb-lg { margin-bottom: clamp(16px, 3vw, 28px); }
        .mt-lg { margin-top: clamp(16px, 3vw, 24px); }
        .mt-xl { margin-top: clamp(20px, 4vw, 32px); }
        .mw-700 { max-width: 700px; }
        .mw-650 { max-width: 650px; }
        .mw-800 { max-width: 800px; }
        .text-center { text-align: center; }

        /* --- Status badge --- */
        .status-badge {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: var(--font-small);
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
            background: rgba(48, 209, 88, 0.15);
            color: #30D158;
            border: 1px solid rgba(48, 209, 88, 0.3);
        }

        /* --- Architecture stack --- */
        .arch-stack { max-width: 700px; margin: 0 auto; width: 100%; }
        .arch-layer {
            padding: clamp(14px, 2.5vw, 24px) clamp(16px, 3vw, 32px);
            border-radius: clamp(8px, 1.5vw, 12px);
            margin-bottom: 4px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 8px;
        }
        .arch-layer .layer-name { font-size: clamp(14px, 2.2vw, 18px); font-weight: 600; }
        .arch-layer .layer-detail { font-size: var(--font-small); color: var(--text-secondary); }
        .layer-apps { background: rgba(94, 92, 230, 0.08); border: 1px solid rgba(94, 92, 230, 0.2); }
        .layer-libs { background: rgba(94, 92, 230, 0.12); border: 1px solid rgba(94, 92, 230, 0.25); }
        .layer-kernel {
            background: rgba(255, 214, 10, 0.08);
            border: 2px solid rgba(255, 214, 10, 0.4);
            box-shadow: 0 0 20px rgba(255, 214, 10, 0.1);
        }
        .layer-modules { background: rgba(255,255,255,0.04); border: 1px dashed rgba(255,255,255,0.2); }
        .stability-line {
            text-align: center;
            padding: clamp(8px, 1.5vw, 14px) 0;
            font-size: var(--font-small);
            font-weight: 700;
            letter-spacing: 3px;
            text-transform: uppercase;
            color: #FFD60A;
            position: relative;
        }
        .stability-line::before, .stability-line::after {
            content: '';
            position: absolute;
            top: 50%;
            height: 2px;
            width: clamp(40px, 10vw, 120px);
            background: linear-gradient(to right, transparent, #FFD60A);
        }
        .stability-line::before { left: clamp(10px, 3vw, 40px); }
        .stability-line::after { right: clamp(10px, 3vw, 40px); transform: scaleX(-1); }
        .arch-arrow { text-align: center; color: var(--text-tertiary); font-size: clamp(14px, 2vw, 18px); padding: 2px 0; }
        .arch-rule {
            margin-top: clamp(16px, 3vw, 24px);
            padding: clamp(12px, 2vw, 16px) clamp(16px, 3vw, 24px);
            background: rgba(255, 107, 107, 0.08);
            border: 1px solid rgba(255, 107, 107, 0.2);
            border-radius: clamp(8px, 1.5vw, 12px);
            font-size: var(--font-body);
            color: var(--text-secondary);
        }
        .arch-rule strong { color: #FF6B6B; }

        /* --- Module cards --- */
        .module-card {
            background: var(--surface-1);
            border-radius: clamp(12px, 2vw, 16px);
            padding: clamp(14px, 2.5vw, 24px);
            border-top: 3px solid var(--module-color, var(--accent));
        }
        .mc-provider { --module-color: var(--color-provider); }
        .mc-tool { --module-color: var(--color-tool); }
        .mc-orchestrator { --module-color: var(--color-orchestrator); }
        .mc-context { --module-color: var(--color-context); }
        .mc-hook { --module-color: var(--color-hook); }
        .module-name { font-size: clamp(16px, 2.5vw, 20px); font-weight: 600; margin-bottom: 6px; }
        .module-desc { font-size: var(--font-body); color: var(--text-secondary); line-height: 1.4; margin-bottom: 8px; }
        .module-examples { font-size: var(--font-small); color: var(--text-tertiary); font-family: 'SF Mono', 'Fira Code', monospace; }
        .module-count { font-size: var(--font-small); font-weight: 600; margin-top: 8px; }

        /* --- Ecosystem map --- */
        .eco-map { display: flex; flex-direction: column; align-items: center; gap: clamp(6px, 1vw, 10px); max-width: 800px; margin: 0 auto; width: 100%; }
        .eco-node {
            padding: clamp(10px, 2vw, 16px) clamp(20px, 4vw, 40px);
            border-radius: clamp(8px, 1.5vw, 12px);
            text-align: center;
            width: 100%;
            max-width: 500px;
        }
        .eco-node-entry { background: rgba(94,92,230,0.06); border: 1px solid rgba(94,92,230,0.2); }
        .eco-node-kernel { background: rgba(255,214,10,0.06); border: 2px solid rgba(255,214,10,0.3); }
        .eco-node-title { font-size: clamp(14px, 2.2vw, 18px); font-weight: 600; }
        .eco-node-detail { font-size: var(--font-small); color: var(--text-secondary); }
        .eco-dots { display: flex; justify-content: center; gap: 4px; padding: 4px 0; }
        .eco-dot { width: 4px; height: 4px; border-radius: 50%; background: var(--accent); opacity: 0.5; }
        .eco-branches {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(min(170px, 100%), 1fr));
            gap: var(--gap-grid);
            width: 100%;
        }
        .eco-branch {
            padding: clamp(12px, 2vw, 18px);
            border-radius: clamp(8px, 1.5vw, 12px);
            background: var(--surface-1);
            border: 1px solid var(--border-subtle);
            text-align: center;
        }
        .eco-branch-provider { border-top: 2px solid var(--color-provider); }
        .eco-branch-accent { border-top: 2px solid var(--accent); }
        .eco-branch-green { border-top: 2px solid #30D158; }
        .eco-branch-orange { border-top: 2px solid #FF9F0A; }
        .eco-branch-title { font-size: clamp(13px, 2vw, 16px); font-weight: 600; margin-bottom: 4px; }
        .eco-branch-detail { font-size: var(--font-small); color: var(--text-secondary); }

        /* --- Decision tags --- */
        .decision-tag {
            display: inline-block;
            padding: 3px 10px;
            border-radius: 12px;
            font-size: clamp(10px, 1.5vw, 12px);
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        .tag-llm { background: rgba(48, 209, 88, 0.15); color: #30D158; }
        .tag-code { background: rgba(255, 107, 107, 0.15); color: #FF6B6B; }
        .tag-engine { background: rgba(255, 159, 10, 0.15); color: #FF9F0A; }
        .tag-memory { background: rgba(191, 90, 242, 0.15); color: #BF5AF2; }
        .tag-backend { background: rgba(10, 132, 255, 0.15); color: #0A84FF; }

        /* --- Flex header for module cards --- */
        .flex-between {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 8px;
            margin-bottom: 8px;
        }
        .flex-between .card-title { margin-bottom: 0; }

        /* --- Callout --- */
        .callout {
            padding: clamp(16px, 3vw, 24px);
            border-radius: clamp(8px, 1.5vw, 12px);
        }
        .callout-accent { background: rgba(94, 92, 230, 0.1); border: 1px solid rgba(94, 92, 230, 0.3); }
        .callout-gold { background: rgba(255, 214, 10, 0.08); border: 1px solid rgba(255, 214, 10, 0.25); }
        .callout p { font-size: var(--font-body); color: var(--text-secondary); line-height: 1.5; }
        .callout strong { color: var(--text-primary); }

        /* --- Philosophy quadrant --- */
        .philosophy-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(min(280px, 100%), 1fr));
            gap: 2px;
        }
        .philosophy-cell {
            background: var(--surface-2);
            padding: clamp(16px, 3vw, 32px);
            border-radius: clamp(8px, 1vw, 12px);
        }
        .philosophy-cell h4 {
            color: var(--text-primary);
            font-size: clamp(16px, 2.5vw, 20px);
            margin-bottom: 8px;
        }
        .philosophy-cell p {
            color: var(--text-secondary);
            font-size: var(--font-body);
            line-height: 1.5;
        }

        /* --- File bar chart --- */
        .file-bar { display: flex; align-items: center; gap: clamp(8px, 1.5vw, 12px); margin-bottom: clamp(6px, 1vw, 10px); }
        .file-name { font-family: 'SF Mono', 'Fira Code', monospace; font-size: var(--font-small); color: var(--text-secondary); min-width: clamp(100px, 18vw, 160px); }
        .file-bar-fill { height: clamp(16px, 2.5vw, 24px); border-radius: 4px; background: var(--accent); opacity: 0.7; }
        .file-lines { font-size: clamp(10px, 1.5vw, 12px); color: var(--text-tertiary); min-width: 60px; text-align: right; }

        /* --- Velocity stats --- */
        .velocity-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(min(140px, 100%), 1fr));
            gap: var(--gap-grid);
            margin-top: clamp(16px, 3vw, 32px);
        }
        .velocity-stat { text-align: center; }
        .velocity-number {
            font-size: clamp(36px, 10vw, 72px);
            font-weight: 700;
            background: linear-gradient(135deg, var(--accent), var(--accent-light));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            line-height: 1.1;
        }
        .velocity-label { font-size: var(--font-small); color: var(--text-secondary); margin-top: 4px; }

        /* --- Flow diagram --- */
        .flow { display: flex; align-items: center; justify-content: center; flex-wrap: wrap; gap: clamp(8px, 1.5vw, 16px); margin: clamp(12px, 2vw, 20px) 0; }
        .flow-box { padding: clamp(8px, 1.5vw, 12px) clamp(12px, 2vw, 20px); border-radius: 8px; background: var(--surface-2); font-size: clamp(12px, 2vw, 15px); font-weight: 500; white-space: nowrap; }
        .flow-box-accent { border: 1px solid var(--accent); }
        .flow-box-green { border: 1px solid #30D158; }
        .flow-arrow { color: var(--accent); font-size: clamp(16px, 2.5vw, 24px); }

        /* --- Pattern & path cards --- */
        .pattern-card {
            background: var(--surface-1);
            border: 1px solid var(--border-subtle);
            border-radius: clamp(12px, 2vw, 16px);
            padding: clamp(14px, 2.5vw, 24px);
        }
        .pattern-name { font-size: clamp(15px, 2.3vw, 18px); font-weight: 600; margin-bottom: 6px; color: var(--text-primary); }
        .pattern-desc { font-size: var(--font-body); color: var(--text-secondary); line-height: 1.4; }

        .path-card {
            background: var(--surface-1);
            border: 1px solid var(--border-subtle);
            border-radius: clamp(12px, 2vw, 16px);
            padding: clamp(16px, 3vw, 28px);
        }
        .path-icon { font-size: clamp(28px, 5vw, 42px); margin-bottom: 8px; }
        .path-title { font-size: clamp(16px, 2.5vw, 20px); font-weight: 600; margin-bottom: 6px; }
        .path-desc { font-size: var(--font-body); color: var(--text-secondary); line-height: 1.4; }
        .path-start { font-size: var(--font-small); color: var(--accent); font-weight: 600; margin-top: 10px; }

        /* --- Highlight card --- */
        .card-highlight-orange { border: 1px solid rgba(255,159,10,0.3); }
        .text-muted { color: rgba(255,255,255,0.6); }

        /* --- Sources --- */
        .sources-content { line-height: 1.7; font-size: var(--font-body); color: var(--text-secondary); }
        .sources-content strong { color: var(--text-primary); }
        .sources-content code {
            font-family: 'SF Mono', 'Fira Code', monospace;
            font-size: var(--font-small);
            background: var(--surface-1);
            padding: 2px 6px;
            border-radius: 4px;
        }
        .sources-content ul { list-style: none; padding-left: 16px; }
        .sources-content li::before { content: '‚Üí '; color: var(--accent); }
        .sources-content li { margin-bottom: 6px; }
        .sources-gap { margin-top: 12px; }

        /* --- Navigation --- */
        .nav {
            position: fixed;
            bottom: clamp(16px, 3vw, 24px);
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 8px;
            z-index: 100;
        }
        .nav-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: rgba(255,255,255,0.3);
            cursor: pointer;
            transition: all 0.3s;
        }
        .nav-dot.active { background: var(--accent); transform: scale(1.3); }
        .slide-counter {
            position: fixed;
            bottom: clamp(16px, 3vw, 24px);
            right: clamp(16px, 3vw, 24px);
            font-size: var(--font-small);
            color: var(--text-tertiary);
            z-index: 100;
        }
        .more-stories {
            position: fixed;
            bottom: 10px;
            left: 50%;
            transform: translateX(-50%);
            font-size: clamp(11px, 1.5vw, 12px);
            color: rgba(255,255,255,0.3);
            text-decoration: none;
            z-index: 100;
        }
        .more-stories:hover { color: rgba(255,255,255,0.5); }
    </style>
    <link rel="stylesheet" href="shared-variables.css">
    <link rel="stylesheet" href="withamplifier-overrides.css">
</head>
<body>

<!-- ==================== SLIDE 1: TITLE ==================== -->
<div class="slide active center">
    <div class="section-label">Architecture Overview</div>
    <h1 class="headline">Amplifier</h1>
    <p class="subhead">A modular AI agent framework built on the Linux kernel philosophy</p>
    <p class="tagline">"The center stays still so the edges can move fast."</p>
    <div class="mt-lg">
        <span class="status-badge">Active</span>
    </div>
    <div class="small-text mt-lg">February 2026</div>
</div>

<!-- ==================== SLIDE 2: WHAT IS AMPLIFIER ==================== -->
<div class="slide">
    <div class="section-label">The Vision</div>
    <h2 class="headline">What is Amplifier?</h2>
    <p class="body-text mw-700 mb-lg">
        Amplifier applies the Linux kernel philosophy to AI agents: a tiny, stable kernel at the center
        with all policies pushed to the edges as replaceable modules. No monolith. No lock-in. Just mechanism.
    </p>
    <div class="thirds">
        <div class="card">
            <div class="card-icon">üî¨</div>
            <div class="card-title">Ultra-Thin Kernel</div>
            <div class="card-desc">~2,400 lines of core mechanism code across 6 files. Session lifecycle, module loading, event system, coordinator infrastructure. Nothing else.</div>
            <div class="card-count">5 stdlib-level dependencies</div>
        </div>
        <div class="card">
            <div class="card-icon">üß©</div>
            <div class="card-title">51 Modules</div>
            <div class="card-desc">5 module types, all implementing Python Protocol interfaces. Swap any piece without touching the rest of the system.</div>
            <div class="card-count">Provider ¬∑ Tool ¬∑ Orchestrator ¬∑ Context ¬∑ Hook</div>
        </div>
        <div class="card">
            <div class="card-icon">üì¶</div>
            <div class="card-title">Composable Bundles</div>
            <div class="card-desc">YAML configuration packages that combine modules, behaviors, and agents into deployable units. Most are just 8‚Äì14 lines of YAML.</div>
            <div class="card-count">41 bundles in foundation</div>
        </div>
    </div>
</div>

<!-- ==================== SLIDE 3: THE ECOSYSTEM ==================== -->
<div class="slide">
    <div class="section-label">The Ecosystem</div>
    <h2 class="medium-headline">Full Ecosystem Map</h2>
    <div class="eco-map">
        <div class="eco-node eco-node-entry">
            <div class="eco-node-title">amplifier</div>
            <div class="eco-node-detail">Entry point ¬∑ Docs ¬∑ Governance ¬∑ Module registry ¬∑ 171 commits</div>
        </div>
        <div class="eco-dots"><span class="eco-dot"></span><span class="eco-dot"></span><span class="eco-dot"></span></div>
        <div class="eco-node eco-node-kernel">
            <div class="eco-node-title">amplifier-core <span class="gold-text small-text">KERNEL</span></div>
            <div class="eco-node-detail">~2,400 core lines ¬∑ Session lifecycle ¬∑ Module loading ¬∑ Event system ¬∑ Coordinator ¬∑ 143 commits</div>
        </div>
        <div class="eco-dots"><span class="eco-dot"></span><span class="eco-dot"></span><span class="eco-dot"></span></div>
        <div class="eco-node eco-node-entry">
            <div class="eco-node-title">amplifier-foundation</div>
            <div class="eco-node-detail">Bundle primitives ¬∑ Reference bundles ¬∑ Best-practice examples ¬∑ 343 commits</div>
        </div>
        <div class="eco-dots"><span class="eco-dot"></span><span class="eco-dot"></span><span class="eco-dot"></span></div>
        <div class="eco-branches">
            <div class="eco-branch eco-branch-provider">
                <div class="eco-branch-title">Modules</div>
                <div class="eco-branch-detail">5 types ¬∑ 51 implementations</div>
            </div>
            <div class="eco-branch eco-branch-accent">
                <div class="eco-branch-title">Bundles</div>
                <div class="eco-branch-detail">41 composable packages</div>
            </div>
            <div class="eco-branch eco-branch-green">
                <div class="eco-branch-title">Agents</div>
                <div class="eco-branch-detail">Built on bundles, not a module type</div>
            </div>
            <div class="eco-branch eco-branch-orange">
                <div class="eco-branch-title">Recipes</div>
                <div class="eco-branch-detail">10 multi-step workflows</div>
            </div>
        </div>
    </div>
</div>

<!-- ==================== SLIDE 4: ARCHITECTURE LAYERS ==================== -->
<div class="slide">
    <div class="section-label">Architecture</div>
    <h2 class="medium-headline">Dependency Hierarchy</h2>
    <div class="arch-stack">
        <div class="arch-layer layer-apps">
            <span class="layer-name">üì± Applications</span>
            <span class="layer-detail">amplifier-app-cli ¬∑ custom apps</span>
        </div>
        <div class="arch-arrow">‚Üì depends on</div>
        <div class="arch-layer layer-libs">
            <span class="layer-name">üìö Libraries</span>
            <span class="layer-detail">amplifier-foundation ¬∑ bundle primitives</span>
        </div>
        <div class="arch-arrow">‚Üì depends on</div>
        <div class="stability-line">Stability Boundary</div>
        <div class="arch-layer layer-kernel">
            <span class="layer-name">‚öôÔ∏è Kernel</span>
            <span class="layer-detail">amplifier-core ¬∑ ~2,400 core lines</span>
        </div>
        <div class="arch-arrow">‚Üë depends on (only)</div>
        <div class="arch-layer layer-modules">
            <span class="layer-name">üß© Modules</span>
            <span class="layer-detail">Provider ¬∑ Tool ¬∑ Orchestrator ¬∑ Context ¬∑ Hook</span>
        </div>
        <div class="arch-rule">
            <strong>Golden Rule:</strong> Modules depend <strong>only</strong> on amplifier-core.
            Never on foundation, never on other modules, never on apps.
            This is what makes every module independently replaceable.
        </div>
    </div>
</div>

<!-- ==================== SLIDE 5: THE KERNEL ==================== -->
<div class="slide">
    <div class="section-label">The Kernel</div>
    <h2 class="medium-headline">amplifier-core Internals</h2>
    <p class="body-text mw-650 mb-lg">
        The entire kernel fits in 6 core mechanism files. Every line earns its place.
    </p>
    <div class="halves">
        <div>
            <div class="file-bar">
                <span class="file-name">coordinator.py</span>
                <div class="file-bar-fill" style="width: min(200px, 33vw)"></div>
                <span class="file-lines">606 lines</span>
            </div>
            <div class="file-bar">
                <span class="file-name">loader.py</span>
                <div class="file-bar-fill" style="width: min(196px, 32vw)"></div>
                <span class="file-lines">598 lines</span>
            </div>
            <div class="file-bar">
                <span class="file-name">session.py</span>
                <div class="file-bar-fill" style="width: min(155px, 26vw)"></div>
                <span class="file-lines">474 lines</span>
            </div>
            <div class="file-bar">
                <span class="file-name">models.py</span>
                <div class="file-bar-fill" style="width: min(140px, 23vw)"></div>
                <span class="file-lines">429 lines</span>
            </div>
            <div class="file-bar">
                <span class="file-name">interfaces.py</span>
                <div class="file-bar-fill" style="width: min(86px, 14vw)"></div>
                <span class="file-lines">264 lines</span>
            </div>
            <div class="file-bar">
                <span class="file-name">events.py</span>
                <div class="file-bar-fill" style="width: min(52px, 9vw)"></div>
                <span class="file-lines">~200 lines</span>
            </div>
        </div>
        <div>
            <div class="card mb-gap">
                <div class="card-title">What the Kernel Does</div>
                <div class="card-desc">
                    <strong>Session lifecycle</strong> ‚Äî create, run, resume, destroy<br>
                    <strong>Module loading</strong> ‚Äî discover, validate, wire up<br>
                    <strong>Event system</strong> ‚Äî JSONL event bus for all activity<br>
                    <strong>Coordinator</strong> ‚Äî orchestrate the agent loop<br>
                    <strong>Interfaces</strong> ‚Äî Protocol contracts for all 5 types
                </div>
            </div>
            <div class="card">
                <div class="card-title">What the Kernel Does NOT Do</div>
                <div class="card-desc text-muted">
                    No prompt templates ¬∑ No retry logic<br>
                    No model preferences ¬∑ No logging format<br>
                    No approval flow ¬∑ No context strategy
                </div>
                <div class="card-count gold-text">All of that is modules</div>
            </div>
        </div>
    </div>
</div>

<!-- ==================== SLIDE 6: MODULE SYSTEM ==================== -->
<div class="slide">
    <div class="section-label">Module System</div>
    <h2 class="medium-headline">Five Types. 51 Implementations.</h2>
    <p class="body-text mw-700 mb-lg">
        All module interfaces defined in a single file
        (<code class="inline-code">interfaces.py</code>, 264 lines)
        using Python <code class="inline-code">Protocol</code> with
        <code class="inline-code">@runtime_checkable</code>.
    </p>
    <div class="fifths">
        <div class="module-card mc-provider">
            <div class="module-name" style="color: var(--color-provider)">Provider</div>
            <div class="module-desc">LLM backends</div>
            <div class="module-examples">anthropic ¬∑ openai ¬∑ azure ¬∑ ollama</div>
            <div class="module-count" style="color: var(--color-provider)">11 implementations</div>
        </div>
        <div class="module-card mc-tool">
            <div class="module-name" style="color: var(--color-tool)">Tool</div>
            <div class="module-desc">Agent capabilities</div>
            <div class="module-examples">filesystem ¬∑ bash ¬∑ web ¬∑ search</div>
            <div class="module-count" style="color: var(--color-tool)">17 implementations</div>
        </div>
        <div class="module-card mc-orchestrator">
            <div class="module-name" style="color: var(--color-orchestrator)">Orchestrator</div>
            <div class="module-desc">THE main engine</div>
            <div class="module-examples">loop-basic ¬∑ streaming ¬∑ events</div>
            <div class="module-count" style="color: var(--color-orchestrator)">4 implementations</div>
        </div>
        <div class="module-card mc-context">
            <div class="module-name" style="color: var(--color-context)">Context</div>
            <div class="module-desc">Memory management</div>
            <div class="module-examples">context-simple ¬∑ persistent</div>
            <div class="module-count" style="color: var(--color-context)">2 implementations</div>
        </div>
        <div class="module-card mc-hook">
            <div class="module-name" style="color: var(--color-hook)">Hook</div>
            <div class="module-desc">Lifecycle observers</div>
            <div class="module-examples">logging ¬∑ redaction ¬∑ approval</div>
            <div class="module-count" style="color: var(--color-hook)">17 implementations</div>
        </div>
    </div>
</div>

<!-- ==================== SLIDE 7: MODULE DEEP DIVE ==================== -->
<div class="slide">
    <div class="section-label">Control Surfaces</div>
    <h2 class="medium-headline">Who Decides What?</h2>
    <div class="halves">
        <div>
            <div class="card mb-gap">
                <div class="flex-between">
                    <div class="card-title">üîß Tool</div>
                    <span class="decision-tag tag-llm">LLM-decided</span>
                </div>
                <div class="card-desc">The model sees tool definitions and <em>chooses</em> when to call them. The agent decides "I need to read this file" or "I need to search the web."</div>
            </div>
            <div class="card mb-gap">
                <div class="flex-between">
                    <div class="card-title">ü™ù Hook</div>
                    <span class="decision-tag tag-code">Code-decided</span>
                </div>
                <div class="card-desc">Developers wire hooks in configuration. They fire automatically at lifecycle events ‚Äî before/after each turn, on errors, on session end. The LLM never knows they exist.</div>
            </div>
            <div class="callout callout-gold">
                <p><strong>The key distinction:</strong> Tools are capabilities the AI <em>requests</em>. Hooks are policies the developer <em>enforces</em>.</p>
            </div>
        </div>
        <div>
            <div class="card card-highlight-orange mb-gap">
                <div class="flex-between">
                    <div class="card-title">‚ö° Orchestrator</div>
                    <span class="decision-tag tag-engine">The Engine</span>
                </div>
                <div class="card-desc">THE control surface of the entire framework. The orchestrator drives the agent loop ‚Äî it decides when to call the provider, how to handle tool results, and when to stop. Swapping orchestrators completely changes agent behavior.</div>
            </div>
            <div class="card mb-gap">
                <div class="flex-between">
                    <div class="card-title">üîå Provider</div>
                    <span class="decision-tag tag-backend">Backend</span>
                </div>
                <div class="card-desc">Which LLM to talk to and how. 11 implementations spanning Anthropic, OpenAI, Azure, Ollama, and community-contributed providers.</div>
            </div>
            <div class="card">
                <div class="flex-between">
                    <div class="card-title">üß† Context</div>
                    <span class="decision-tag tag-memory">Memory</span>
                </div>
                <div class="card-desc">How conversation history is stored and managed. From simple in-memory to persistent cross-session context.</div>
            </div>
        </div>
    </div>
</div>

<!-- ==================== SLIDE 8: BUNDLES & COMPOSITION ==================== -->
<div class="slide">
    <div class="section-label">Composition</div>
    <h2 class="medium-headline">Bundles: The Building-Block Model</h2>
    <div class="halves">
        <div>
            <div class="card mb-gap">
                <div class="card-icon">üß±</div>
                <div class="card-title">Bricks = Modules</div>
                <div class="card-desc">Each module is a self-contained brick. It implements one Protocol interface. It has no knowledge of other bricks. You can regenerate any brick independently without affecting others.</div>
            </div>
            <div class="card">
                <div class="card-icon">üîó</div>
                <div class="card-title">Studs = Interfaces</div>
                <div class="card-desc">The Protocol contracts in <code class="inline-code">interfaces.py</code> are the studs where bricks connect. As long as a module fits the interface, it clicks in. No registration ceremony.</div>
            </div>
        </div>
        <div>
            <div class="card mb-gap">
                <div class="card-title">A Bundle Combines</div>
                <div class="card-desc">
                    <strong>Providers</strong> ‚Äî which LLMs to use<br>
                    <strong>Tools</strong> ‚Äî what the agent can do<br>
                    <strong>Orchestrators</strong> ‚Äî how the loop runs<br>
                    <strong>Hooks</strong> ‚Äî what policies to enforce<br>
                    <strong>Context files</strong> ‚Äî instructions and knowledge<br>
                    <strong>Agents</strong> ‚Äî sub-agents to delegate to
                </div>
            </div>
            <div class="callout callout-accent">
                <p><strong>Agents ARE bundles.</strong> Same YAML format, same loader (<code class="inline-code">load_bundle()</code>). The thin bundle pattern means most are just 8‚Äì14 lines of YAML inheriting from foundation. An agent is simply a bundle that another agent can delegate to.</p>
            </div>
        </div>
    </div>
</div>

<!-- ==================== SLIDE 9: PHILOSOPHY ==================== -->
<div class="slide">
    <div class="section-label">Philosophy</div>
    <h2 class="medium-headline">Design Principles</h2>
    <div class="philosophy-grid">
        <div class="philosophy-cell">
            <h4>‚öôÔ∏è Mechanism, Not Policy</h4>
            <p>The kernel provides capabilities. Modules decide behavior. The kernel never has an opinion about prompts, retries, logging format, or approval flows.</p>
        </div>
        <div class="philosophy-cell">
            <h4>üß± Bricks &amp; Studs</h4>
            <p>Every component is a self-contained brick that connects through standardized Protocol interfaces. Swap, upgrade, or replace any piece independently.</p>
        </div>
        <div class="philosophy-cell">
            <h4>üî™ Ruthless Simplicity</h4>
            <p>As simple as possible, but no simpler. The most-cited principle in the codebase. Every line of kernel code must earn its place.</p>
        </div>
        <div class="philosophy-cell">
            <h4>üì° Event-First Observability</h4>
            <p>The JSONL event log is the source of truth. Every session action emits events. Text-first, inspectable, greppable. No opaque binary formats.</p>
        </div>
    </div>
    <div class="callout callout-gold mt-lg">
        <p><strong>The Litmus Test:</strong> "Could two teams want different behavior here?" If yes ‚Üí it's policy ‚Üí it belongs in a module, not the kernel.</p>
    </div>
</div>

<!-- ==================== SLIDE 10: MULTI-AGENT PATTERNS ==================== -->
<div class="slide">
    <div class="section-label">Multi-Agent</div>
    <h2 class="medium-headline">Agent Patterns</h2>
    <div class="fours">
        <div class="pattern-card">
            <div class="card-icon">üï≥Ô∏è</div>
            <div class="pattern-name">Context Sink</div>
            <div class="pattern-desc">Agents absorb token cost and return summaries. A sub-agent might consume ~20,000 tokens exploring code but returns ~500 tokens of findings. The parent stays lean.</div>
        </div>
        <div class="pattern-card">
            <div class="card-icon">‚ö°</div>
            <div class="pattern-name">Parallel Dispatch</div>
            <div class="pattern-desc">Launch multiple independent agents concurrently. When tasks don't share state, run them all at once. Results merge back to the coordinator.</div>
        </div>
        <div class="pattern-card">
            <div class="card-icon">üîÑ</div>
            <div class="pattern-name">Session Resumption</div>
            <div class="pattern-desc">Resume any agent session by ID for iterative work. Agents pick up where they left off with full context. Long-running work becomes manageable.</div>
        </div>
        <div class="pattern-card">
            <div class="card-icon">üìê</div>
            <div class="pattern-name">Design-First</div>
            <div class="pattern-desc">Architect designs the spec, builder implements it, architect reviews. Separation of concerns applied to the agent workflow itself.</div>
        </div>
    </div>
    <div class="mt-xl">
        <p class="body-text mb-gap">The Design-First pattern in practice:</p>
        <div class="flow">
            <div class="flow-box flow-box-accent">zen-architect</div>
            <div class="flow-arrow">‚Üí</div>
            <div class="flow-box flow-box-green">modular-builder</div>
            <div class="flow-arrow">‚Üí</div>
            <div class="flow-box flow-box-accent">zen-architect</div>
        </div>
        <p class="small-text text-center">Analyze &amp; design ‚Üí Implement from spec ‚Üí Review &amp; iterate</p>
    </div>
</div>

<!-- ==================== SLIDE 11: GETTING STARTED ==================== -->
<div class="slide">
    <div class="section-label">Get Started</div>
    <h2 class="medium-headline">Four Paths In</h2>
    <div class="fours">
        <div class="path-card">
            <div class="path-icon">üë§</div>
            <div class="path-title">User</div>
            <div class="path-desc">Install Amplifier, configure a bundle, start using AI agents for your daily work. No code required.</div>
            <div class="path-start">‚Üí amplifier + a bundle</div>
        </div>
        <div class="path-card">
            <div class="path-icon">üèóÔ∏è</div>
            <div class="path-title">App Developer</div>
            <div class="path-desc">Build applications on top of Amplifier. Use foundation primitives to create custom agent experiences.</div>
            <div class="path-start">‚Üí amplifier-foundation</div>
        </div>
        <div class="path-card">
            <div class="path-icon">üîå</div>
            <div class="path-title">Module Developer</div>
            <div class="path-desc">Create new providers, tools, or hooks. Implement a Protocol interface, publish as a pip package. Done.</div>
            <div class="path-start">‚Üí amplifier-core interfaces</div>
        </div>
        <div class="path-card">
            <div class="path-icon">ü§ù</div>
            <div class="path-title">Contributor</div>
            <div class="path-desc">Help improve the kernel, foundation, or ecosystem. The architecture means changes stay contained to their layer.</div>
            <div class="path-start">‚Üí github.com/microsoft/amplifier</div>
        </div>
    </div>
</div>

<!-- ==================== SLIDE 12: VELOCITY ==================== -->
<div class="slide center">
    <div class="section-label">By the Numbers</div>
    <h2 class="medium-headline">Ecosystem at a Glance</h2>
    <div class="velocity-grid">
        <div class="velocity-stat">
            <div class="velocity-number">657</div>
            <div class="velocity-label">Total commits across 3 repos</div>
        </div>
        <div class="velocity-stat">
            <div class="velocity-number">25,482</div>
            <div class="velocity-label">Lines of source code</div>
        </div>
        <div class="velocity-stat">
            <div class="velocity-number">51</div>
            <div class="velocity-label">Module implementations</div>
        </div>
        <div class="velocity-stat">
            <div class="velocity-number">41</div>
            <div class="velocity-label">Bundles &amp; agents</div>
        </div>
        <div class="velocity-stat">
            <div class="velocity-number">5</div>
            <div class="velocity-label">Kernel dependencies</div>
        </div>
    </div>
</div>

<!-- ==================== SLIDE 13: SOURCES ==================== -->
<div class="slide">
    <div class="section-label">Sources</div>
    <h2 class="medium-headline">Research Methodology</h2>
    <div class="sources-content">
        <p><strong>Data as of:</strong> February 26, 2026</p>
        <p><strong>Feature status:</strong> Active</p>
        <p class="sources-gap"><strong>Research performed:</strong></p>
        <ul>
            <li>Line counts via <code>find . -name "*.py" | xargs wc -l</code> across amplifier-core kernel package (7,803 total; ~2,422‚Äì2,748 for 6 core mechanism files)</li>
            <li>Module enumeration from MODULES.md registry and <code>interfaces.py</code> Protocol definitions (264 lines, all 5 types verified)</li>
            <li>Commit counts via <code>git log --oneline | wc -l</code> per repo (amplifier: 171, core: 143, foundation: 343)</li>
            <li>Bundle inventory via directory listing of amplifier-foundation bundles, behaviors, and agents (41 found)</li>
            <li>Recipe count from amplifier-bundle-recipes and foundation recipe definitions (10 found)</li>
            <li>Philosophy principle verification via <code>grep -r</code> across all repos (22 occurrences of "Ruthless Simplicity", 9 of "Mechanism, Not Policy")</li>
            <li>Dependency count from amplifier-core <code>pyproject.toml</code> (5 packages: click, pydantic, pyyaml, tomli, typing-extensions)</li>
        </ul>
        <p class="sources-gap"><strong>Repos analyzed:</strong> microsoft/amplifier, microsoft/amplifier-core, microsoft/amplifier-foundation</p>
        <p class="sources-gap"><strong>Gaps:</strong> Exact contributor count approximate (~10 contributors). Community module details limited. Performance benchmarks not available.</p>
        <p class="sources-gap"><strong>Note:</strong> "~2,400 lines" refers to the 6 core mechanism files (session, coordinator, interfaces, events, hooks, loader). The full kernel package including validation, models, utils, and CLI totals 7,803 lines across 21 files.</p>
    </div>
</div>

<!-- ==================== SLIDE 14: CTA ==================== -->
<div class="slide center">
    <div class="section-label">Explore</div>
    <h1 class="headline">Start Building</h1>
    <p class="subhead mb-lg">The center stays still. Your edges move fast.</p>
    <div class="thirds mw-800">
        <div class="card text-center">
            <div class="card-icon">üìñ</div>
            <div class="card-title">Documentation</div>
            <div class="card-desc">github.com/microsoft/amplifier</div>
        </div>
        <div class="card text-center">
            <div class="card-icon">‚öôÔ∏è</div>
            <div class="card-title">Kernel</div>
            <div class="card-desc">github.com/microsoft/amplifier-core</div>
        </div>
        <div class="card text-center">
            <div class="card-icon">üèóÔ∏è</div>
            <div class="card-title">Foundation</div>
            <div class="card-desc">github.com/microsoft/amplifier-foundation</div>
        </div>
    </div>
</div>

<!-- Navigation -->
<div class="nav" id="nav"></div>
<div class="slide-counter" id="counter"></div>
<a href="/stories" class="more-stories">More Amplifier Stories</a>

<script>
const slides = document.querySelectorAll('.slide');
let currentSlide = 0;

function showSlide(n) {
    slides[currentSlide].classList.remove('active');
    currentSlide = (n + slides.length) % slides.length;
    slides[currentSlide].classList.add('active');
    slides[currentSlide].scrollTop = 0;
    updateNav();
}

function updateNav() {
    const nav = document.getElementById('nav');
    const counter = document.getElementById('counter');
    nav.innerHTML = '';
    slides.forEach((_, i) => {
        const dot = document.createElement('div');
        dot.className = 'nav-dot' + (i === currentSlide ? ' active' : '');
        dot.onclick = (e) => { e.stopPropagation(); showSlide(i); };
        nav.appendChild(dot);
    });
    counter.textContent = `${currentSlide + 1} / ${slides.length}`;
}

document.addEventListener('keydown', (e) => {
    if (e.key === 'ArrowRight' || e.key === ' ') { e.preventDefault(); showSlide(currentSlide + 1); }
    if (e.key === 'ArrowLeft') { e.preventDefault(); showSlide(currentSlide - 1); }
});

document.addEventListener('click', (e) => {
    if (e.target.closest('.nav') || e.target.closest('a')) return;
    if (e.clientX > window.innerWidth / 2) showSlide(currentSlide + 1);
    else showSlide(currentSlide - 1);
});

let touchStartX = 0;
let touchEndX = 0;
const SWIPE_THRESHOLD = 50;

document.addEventListener('touchstart', (e) => {
    touchStartX = e.changedTouches[0].screenX;
}, { passive: true });

document.addEventListener('touchend', (e) => {
    touchEndX = e.changedTouches[0].screenX;
    const diff = touchStartX - touchEndX;
    if (Math.abs(diff) > SWIPE_THRESHOLD) {
        if (diff > 0) showSlide(currentSlide + 1);
        else showSlide(currentSlide - 1);
    }
}, { passive: true });

updateNav();
</script>
</body>
</html>